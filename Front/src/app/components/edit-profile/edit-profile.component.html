<div class="edit-profile-container">
  <div class="profile-card">
    <h2>Edit Profile</h2>

    <!-- Tabs Navigation -->
    <div class="profile-tabs">
      <button class="tab-btn" [class.active]="activeTab === 'account'" (click)="setActiveTab('account')">
        Account
      </button>
      <button class="tab-btn" [class.active]="activeTab === 'password'" (click)="setActiveTab('password')">
        Change Password
      </button>
      <button class="tab-btn" [class.active]="activeTab === 'settings'" (click)="setActiveTab('settings')">
        My Settings
      </button>
    </div>

    <!-- Account Info Form -->
    <div *ngIf="activeTab === 'account'">
      <form [formGroup]="profileForm" (ngSubmit)="saveProfileChanges()">
        <label>Username</label>
        <input type="text" class="modern-input" formControlName="username">

        <label>Email</label>
        <input type="email" class="modern-input" formControlName="email">

        <label>Edit Profile Picture</label>
        <input type="file" class="modern-input" accept="image/*">

        <button type="submit" class="modern-btn">Save Changes</button>
      </form>
    </div>

    <!-- Change Password Form -->
    <div *ngIf="activeTab === 'password'">
      <form [formGroup]="passwordForm" (ngSubmit)="changePassword()">
        <label>Old Password</label>
        <input type="password" class="modern-input" formControlName="currentPassword">
        <small *ngIf="passwordForm.get('currentPassword')?.invalid && passwordForm.get('currentPassword')?.touched">
          Password Required (min. 6 characters)
        </small>

        <label>New Password</label>
        <input type="password" class="modern-input" formControlName="newPassword">
        <small *ngIf="passwordForm.get('newPassword')?.invalid && passwordForm.get('newPassword')?.touched">
          New Password Required (min. 6 characters)
        </small>

        <button type="submit" class="modern-btn">Change Password</button>
      </form>
    </div>

    <!-- Settings -->
    <div *ngIf="activeTab === 'settings'">
      <label>Theme Preference</label>
      <select class="modern-input">
        <option>Light</option>
        <option>Dark</option>
        <option>System Default</option>
      </select>
    </div>

    <!-- Success & Error Messages -->
    <p *ngIf="successMessage" class="success-message">{{ successMessage }}</p>
    <p *ngIf="errorMessage" class="error-message">{{ errorMessage }}</p>
  </div>
</div>
