<div class="edit-profile-container">
  <div class="profile-card">
    <h2>Edit Profile</h2>

    <!-- Tabs Navigation -->
    <div class="profile-tabs">
      <button class="tab-btn" [class.active]="activeTab === 'account'" (click)="setActiveTab('account')">Account</button>
      <button class="tab-btn" [class.active]="activeTab === 'password'" (click)="setActiveTab('password')">Change Password</button>
      <button class="tab-btn" [class.active]="activeTab === 'settings'" (click)="setActiveTab('settings')">My Settings</button>
    </div>

    <!-- Change Password Form -->
    <div *ngIf="activeTab === 'password'">
      <form [formGroup]="passwordForm" (ngSubmit)="changePassword()">
        <div>
          <label for="currentPassword">Current Password</label>
          <input id="currentPassword" formControlName="currentPassword" type="password" required />
          <small *ngIf="passwordForm.get('currentPassword')?.invalid && passwordForm.get('currentPassword')?.touched">
            Password Required (min. 6 characters)
          </small>
        </div>

        <div>
          <label for="newPassword">New Password</label>
          <input id="newPassword" formControlName="newPassword" type="password" required />
          <small *ngIf="passwordForm.get('newPassword')?.invalid && passwordForm.get('newPassword')?.touched">
            New Password Required (min. 6 characters)
          </small>
        </div>

        <button type="submit" [disabled]="passwordForm.invalid || loading">
          {{ loading ? 'Changing Password...' : 'Change Password' }}
        </button>
      </form>

      <!-- Success & Error Messages -->
      <p *ngIf="successMessage" class="success-message">{{ successMessage }}</p>
      <p *ngIf="errorMessage" class="error-message">{{ errorMessage }}</p>
    </div>

    <div *ngIf="activeTab === 'account'">
      <label>Full Name</label>
      <input type="text" class="modern-input" placeholder="John Doe">
      
      <label>Email</label>
      <input type="email" class="modern-input" placeholder="john@example.com">

      <label>Edit Profile Picture</label>
      <input type="file" class="modern-input" accept="image/*">
    </div>

    <div *ngIf="activeTab === 'settings'">
      <label>Theme Preference</label>
      <select class="modern-input">
        <option>Light</option>
        <option>Dark</option>
        <option>System Default</option>
      </select>
    </div>

    <button class="modern-btn">Save Changes</button>
  </div>
</div>
